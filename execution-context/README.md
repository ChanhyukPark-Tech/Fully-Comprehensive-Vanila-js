# Execution-Context

### 실행 컨텍스트

실행 컨텍스트는 자바스크립트가 왜 그렇게 동작하는 지 여러분께 설명해줍니다. 이 실행 컨텍스트를 이해하면, 호이스팅 이나 클로저같은 다른 자바스크립트가 갖고 있는 특성을 보다 이해하기 편하실 겁니다.


### 작동과정

실행 컨텍스트는 크게 2가지 `전역 실행컨텍스트` , `함수 실행컨텍스트` 존재

자바스크립트 엔진이 코드를 실행할 때 언제 실행 컨텍스트를 생성했다가 언제 없애지는지를 보겠습니다.
자바스크립트 코드를 실행시키면 자바스크립트 엔진은 콜 스택이라는 곳에 `전역 실행컨텍스트`를 담습니다. 그 후 함수를 실행하면 `함수 실행컨텍스트`를 그 `전역 실행컨텍스트` 위에 스택으로 쌓습니다. 또 함수를 호출하면 `함수 실행컨텍스트`위에 `함수 실행컨텍스트`가 스택으로 쌓여질 겁니다. 그 후 함수 내부에 선언된 코드가 모두 실행되면 그 함수의 실행컨텍스트는 스택에서 빠지게 됩니다. 머리속으로 스택을 떠올리면서 이해하면 편할거에요. 함수 실행컨텍스트가 모두 사라지고 전역에 있는 코드가 끝라인 까지 모두 실행되면 `전역 실행컨텍스트`  마저 스택에서 빠지게 되고 스택이 비어지게 됩니다.


### 컨텍스트 내부

컨텍스트 생성 시 컨텍스트 안에 `변수객체(arguments,variable)`, `scope chain`, `this` 가 생성됩니다. 이 세가지가 컨텍스트 내부에 저장됩니다.

--- 

큰 틀을 그리는게 중요합니다 컨텍스트는 2종류, 컨텍스트 내부에는 3가지의 무언가가 생성된다!

### 전역 컨텍스트

처음에 코드가 실행될 때 스택에 들어옵니다.
전역 컨텍스트가 생성된 후 두 번째 원칙에 따라 변수객체, scope chain, this가 들어옵니다. 전역 컨텍스트는 arguments(함수의 인자를 말합니다)가 없고요. variable은 해당 스코프의 변수들입니다.

scope chain(스코프 체인, 자신과 상위 스코프들의 변수객체입니다)은 자기 자신인 전역 변수객체입니다. this는 따로 설정되어 있지 않으면 window입니다. this를 바꾸는 방법이 바로 new를 호출하는 겁니다. (또는 함수에 다른 this 값을 bind할 수도 있습니다) 일반 함수의 this가 왜 window인지 아시겠죠? 원래 기본적으로 window고 new나 bind같은 상황에서 this가 바뀌는 겁니다.



### 함수 컨텍스트

함수가 호출되면 함수 컨텍스트가 위에서 말한 3가지 ( `변수객체(arguments,variable)`, `scope chain`, `this` ) 를 가지고 생성됩니다.


### 스코프 체인
내가 갖고 있지 않다면, 나보다 스택 아래에 있는 실행 컨텍스트들에서 내가 원하는 값을 찾는것 ( 이해하기 쉬움 ) 

### 결론

실행 컨텍스트는 ECMAScript 스펙에 따르면 실행 가능한 코드를 형상화하고 구분하는 추상적인 개념 이라고 정의합니다.
쉽게 말하자면 코드들이 실행되기 위한 환경입니다. 함수나 코드가 실행될 때 뭐가필요하지? 라는 생각을 자연스럽게 한다면 실행 컨텍스트를 암기가 아닌 이해를 할 수 있을것 같습니다.






